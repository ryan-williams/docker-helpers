
# Spawn a shell (/bin/bash) in the most recently-build Docker image (or an image passed as an argument)
dosh() {
	if [ $# -eq 0 ]; then
		image="$(docker images -a | head -n 2 | tail -n 1 | awk '{ print $3 }')"
		echo "Using latest image: $image"
	else
		image="$1"
	fi
	docker run -ti --entrypoint /bin/bash "$image"
}
export -f dosh

defn dps docker ps
defn dpsa docker ps -a
defn dpsas docker ps -as
defn dmg docker images
defn dmgs docker images
defn dols docker images
dlsh() {
  dols | head "$@"
}
export -f dlsh

defn drm docker rm
defn drmi docker rmi

defn dk docker

aws_ecr_docker_login() {
  eval `aws ecr get-login --no-include-email`
}
export -f aws_ecr_docker_login
defn aedl aws_ecr_docker_login
defn adl aws_ecr_docker_login
